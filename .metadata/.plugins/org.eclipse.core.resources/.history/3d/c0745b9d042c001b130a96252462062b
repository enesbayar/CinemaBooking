package Services;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;

import Model.Admin;

public class AdminServices implements IAdminServices {
	SQLConnect sqlConnect = new SQLConnect();
	Connection con = sqlConnect.connDB();
	Statement statement = null;
	ResultSet resultSet = null;
	@Override
	public ArrayList<Admin> login() {
		ArrayList<Admin> adminList = new ArrayList();
		Admin admin;
		try{
			statement = con.createStatement();
			resultSet = statement.executeQuery("SELECT * FROM tblAdmin");
			System.out.println("tablodan adminler çekiliyor");
			while(resultSet.next()){
				admin = new Admin(resultSet.getString("userName"), resultSet.getString("password"));
				adminList.add(admin);
				System.out.println("adminler oluþturuldu");
			}
			
		}catch(SQLException e){
			e.printStackTrace();
		}finally{
			try {
				statement.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			try {
				resultSet.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			try {
				con.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			return adminList;
		}
	}
	
}
